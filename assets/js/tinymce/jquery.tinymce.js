(function(f){function t(){function h(c){c==="remove"&&this.each(function(a,e){(a=m(e))&&a.remove()});this.find("span.mceEditor,div.mceEditor").each(function(a,e){(a=tinyMCE.get(e.id.replace(/_parent$/,"")))&&a.remove()})}function n(c){var a=this;if(c!==p){h.call(a);a.each(function(e,d){if(e=tinyMCE.get(d.id))e.setContent(c)})}else if(a.length>0)if(a=tinyMCE.get(a[0].id))return a.getContent()}function m(c){var a=null;c&&c.id&&q.tinymce&&(a=tinyMCE.get(c.id));return a}function j(c){return!!(c&&c.length&&
q.tinymce&&c.is(":tinymce"))}var l={};f.each(["text","html","val"],function(c,a){var e=l[a]=f.fn[a],d=a==="text";f.fn[a]=function(b){var g=this;if(!j(g))return e.call(g,b);if(b!==p){n.call(g.filter(":tinymce"),b);e.call(g.not(":tinymce"),b);return g}else{var i="";(d?g:g.eq(0)).each(function(k,r){k=m(r);i+=k?d?k.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):k.getContent():e.call(f(r),b)});return i}}});f.each(["append","prepend"],function(c,a){var e=l[a]=f.fn[a],d=a==="prepend";f.fn[a]=
function(b){var g=this;if(!j(g))return e.call(g,b);if(b!==p){g.filter(":tinymce").each(function(i,k){(i=m(k))&&i.setContent(d?b+i.getContent():i.getContent()+b)});e.call(g.not(":tinymce"),b);return g}}});f.each(["remove","replaceWith","replaceAll","empty"],function(c,a){var e=l[a]=f.fn[a];f.fn[a]=function(){h.call(this,a);return e.apply(this,arguments)}});l.attr=f.fn.attr;f.fn.attr=function(c,a,e){var d=this;if(!c||c!=="value"||!j(d))return l.attr.call(d,c,a,e);if(a!==p){n.call(d.filter(":tinymce"),
a);l.attr.call(d.not(":tinymce"),c,a,e);return d}else{d=d[0];var b=m(d);return b?b.getContent():l.attr.call(f(d),c,a,e)}}}var p,s,u=[],q=window;f.fn.tinymce=function(h){function n(){var b=[],g=0;if(t){t();t=null}m.each(function(i,k){i=k.id;var r=h.oninit;if(!i)k.id=i=tinymce.DOM.uniqueId();k=new tinymce.Editor(i,h);b.push(k);r&&k.onInit.add(function(){var v,o=r;if(++g==b.length){if(tinymce.is(o,"string")){v=o.indexOf(".")===-1?null:tinymce.resolve(o.replace(/\.\w+$/,""));o=tinymce.resolve(o)}o.apply(v||
tinymce,b)}})});f.each(b,function(i,k){k.render()})}var m=this,j,l,c,a,e="",d="";if(m.length){if(!h)return tinyMCE.get(m[0].id);if(!q.tinymce&&!s&&(j=h.script_url)){s=1;l=h.assets_base===p?j.substring(0,j.lastIndexOf("/")):h.assets_base;if(/_(src|dev)\.js/g.test(j))d="_src";c=j.lastIndexOf("?");if(c!=-1)e=j.substring(c+1);q.tinyMCEPreInit={base:l,suffix:d,query:e};if(j.indexOf("gzip")!=-1){a=h.language||"en";j=j+(/\?/.test(j)?"&":"?")+"js=true&core=true&suffix="+escape(d)+"&themes="+escape(h.theme)+
"&plugins="+escape(h.plugins)+"&languages="+a;q.tinyMCE_GZ||(tinyMCE_GZ={start:function(){function b(g){tinymce.ScriptLoader.markDone(tinyMCE.baseURI.toAbsolute(g))}tinymce.suffix=d;b("langs/"+a+".js");b("themes/"+h.theme+"/editor_template"+d+".js");b("themes/"+h.theme+"/langs/"+a+".js");f.each(h.plugins.split(","),function(g,i){if(i){b("plugins/"+i+"/editor_plugin"+d+".js");b("plugins/"+i+"/langs/"+a+".js")}})},end:function(){}})}f.ajax({type:"GET",url:j,dataType:"script",cache:true,success:function(){tinymce.dom.Event.domLoaded=
1;s=2;n();f.each(u,function(b,g){g()})}})}else s===1?u.push(n):n()}};f.extend(f.expr[":"],{tinymce:function(h){return h.id&&!!tinyMCE.get(h.id)}})})(jQuery);
